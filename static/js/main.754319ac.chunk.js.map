{"version":3,"sources":["hooks/useIndexedDB.ts","components/Recording/index.tsx","components/Visualizer/index.tsx","components/Recorder/index.tsx","components/RecorderProvider.tsx","components/Footer/index.tsx","App.tsx","components/TermsOfUse/index.tsx","serviceWorkerRegistration.js","reportWebVitals.js","404.jsx","index.tsx"],"names":["useIndexedDB","useState","db","setDb","connectionIsOpen","setConnectionIsOpen","storeName","useEffect","openDB","upgrade","createObjectStore","keyPath","autoIncrement","then","catch","err","console","error","close","getRecordingFromDB","id","get","Promise","reject","getAllRecordingsFromDB","getAll","addRecording","recording","add","putRecording","put","deleteRecordingFromDB","delete","Recording","props","streamURL","name","onDeleteHandler","onEditNameHandler","mimeType","toString","controls","preload","role","src","type","className","onClick","e","title","Visualizer","analyser","dataArray","bufferLength","previousTimeStamp","stream","barColor","canvasRef","useRef","requestIdRef","visualize","current","requestAnimationFrame","tick","cancelAnimationFrame","timestamp","draw","audioCtx","window","AudioContext","webkitAudioContext","source","createMediaStreamSource","createAnalyser","fftSize","frequencyBinCount","Uint8Array","connect","canvas","canvasCtx","getContext","WIDTH","width","HEIGHT","height","getByteTimeDomainData","barHeight","barWidth","x","clearRect","i","fillStyle","fillRect","ref","Recorder","mediaRecorder","setRecorderState","recordings","setRecordings","currentRecording","setCurrentRecording","defaultRecordClass","recordButtonClassesText","chunks","onstart","info","onstop","ondataavailable","push","data","savedRecordings","forEach","audioURL","URL","createObjectURL","initRecording","length","toggleRecording","state","start","stop","blob","Blob","newRecordingObj","Date","toISOString","split","join","updateRecordingsList","editRecordingName","target","parentNode","attributes","value","newRecordings","targetItem","filter","item","parseInt","index","indexOf","newName","prompt","replace","undefined","splice","deleteRecording","confirm","classList","setTimeout","map","RecoderProvider","mr","setMr","navigator","mediaDevices","getUserMedia","video","audio","theStream","MediaRecorder","audioBitsPerSecond","log","Footer","to","href","rel","App","location","useLocation","outlet","setOutlet","pathname","RecorderProvider","TermsOfUse","terms","setTerms","termsURL","process","fetch","response","text","Boolean","hostname","match","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ErrorPage","useRouteError","statusText","message","router","createHashRouter","path","element","errorElement","children","ReactDOM","render","StrictMode","document","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.754319ac.chunk.js","sourcesContent":["import { useEffect, useState } from \"react\"\nimport { openDB, IDBPDatabase } from 'idb/with-async-ittr';\nimport { Recording, SoundRecorderDB } from '../SoundRecorderTypes';\n\n// interface IndexedDBHook {\n//     db: IDBPDatabase<SoundRecorderDB> | null\n//     getRecordingFromDB: (id: number | IDBKeyRange) => Promise<Recording | undefined>\n//     getAllRecordingsFromDB: () => Promise<Recording[]>\n//     addRecording: (recording: Recording) => Promise<number>\n//     putRecording: (recording: Recording) => Promise<number>\n//     deleteRecordingFromDB: (id: number | IDBKeyRange) => Promise<void>\n// }\n\nconst useIndexedDB = () => {\n    const [db, setDb] = useState<IDBPDatabase<SoundRecorderDB> | null>(null)\n    const [connectionIsOpen, setConnectionIsOpen] = useState(false)\n    const databaseName = 'sound-recorder'\n    const storeName = 'recordings'\n    \n    useEffect(() => {\n        openDB<SoundRecorderDB>(databaseName, 1, {\n            upgrade(db) {\n                db.createObjectStore(storeName, { keyPath: 'id', autoIncrement: true })\n            }\n        }).then((db) => {\n            setDb(db)\n            setConnectionIsOpen(true)\n        }).catch((err) => {\n            console.error(err)\n        })\n        \n        return () => {\n            if(db) {\n                db.close()\n                setConnectionIsOpen(false)\n            }\n        }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    const getRecordingFromDB = (id: number | IDBKeyRange) => {\n        if(db) {\n            return db.get(storeName, id)\n        } else {\n            return Promise.reject('No database connection')\n        }\n    }\n\n    const getAllRecordingsFromDB = () => {\n        if(db) {\n            return db.getAll(storeName)\n        } else {\n            return Promise.reject('No database connection')\n        }\n    }\n\n    const addRecording = (recording: Recording) => {\n        if(db) {\n            return db.add(storeName, recording)\n        } else {\n            return Promise.reject('No database connection')\n        }\n    }\n\n    const putRecording = (recording: Recording) => {\n        if(db) {\n            return db.put(storeName, recording)\n        } else {\n            return Promise.reject('No database connection')\n        }\n    }\n\n    const deleteRecordingFromDB = (id: number | IDBKeyRange) => {\n        if(db) {\n            return db.delete(storeName, id)\n        } else {\n            return Promise.reject('No database connection')\n        }\n    }\n\n    return {\n        connectionIsOpen,\n        getRecordingFromDB,\n        getAllRecordingsFromDB,\n        addRecording,\n        putRecording,\n        deleteRecordingFromDB\n    }\n}\n\nexport default useIndexedDB","import './style.css'\n\ninterface RecordingProps {\n    streamURL: string,\n    name: string,\n    onDeleteHandler: (e) => void,\n    onEditNameHandler: (e) => void,\n    id: number,\n    mimeType: string\n}\n\nconst Recording = (props: RecordingProps) => {\n\n    const { streamURL, name, onDeleteHandler, onEditNameHandler, id, mimeType } = props\n\n    const deleteRecording = (e: any) => {\n        onDeleteHandler(e)\n    }\n\n    const editName = (e: any) => {\n        onEditNameHandler(e)\n    }\n\n    return (\n        <article id={id?.toString()}>\n            <audio controls={true} preload=\"metadata\" role=\"application\">\n                <source src={streamURL} type={mimeType} />\n            </audio>\n            <p>\n                <span className=\"name\" role=\"presentation\">{name}</span>\n                <button onClick={editName} className=\"editName\" title=\"Click to edit name\" aria-label=\"Click to edit name\">✏️</button>\n            </p>\n            <button onClick={deleteRecording} className=\"delete\">Delete</button>\n        </article>\n    )\n}\n\nexport default Recording;","import { useEffect, useRef } from 'react';\nimport './style.css'\n\ninterface VisualizerProps {\n    stream: MediaStream, \n    barColor: Array<number>\n}\n\nconst Visualizer = (props: VisualizerProps) => {\n    const {stream, barColor} = props\n    const canvasRef = useRef(null)\n    const requestIdRef = useRef(null);\n    let analyser: AnalyserNode, dataArray: Uint8Array, bufferLength: number, previousTimeStamp: number\n    \n    useEffect(() => {\n        visualize(stream)\n        requestIdRef.current = requestAnimationFrame(tick)\n        return () => {\n            cancelAnimationFrame(requestIdRef.current)\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    \n    const tick = (timestamp: number) => {\n        if (!canvasRef.current) return\n        draw(timestamp, canvasRef.current)\n        requestIdRef.current = requestAnimationFrame(tick);\n    };\n    \n    /**\n     * Renders a visual that shows the microphone is receiving input\n     * \n     * This code is particularly complex because you have to know all about\n     * audioContext _and_ animation (the canvas element) in order to get it\n     * to work. I know almost nothing about both.\n     * \n     * @param {*} stream \n     */\n    const visualize = (stream: MediaStream) => {\n        let audioCtx: AudioContext\n        if( ! audioCtx ) {\n            audioCtx = new (window.AudioContext || (window as any).webkitAudioContext)()\n        }\n      \n        const source = audioCtx.createMediaStreamSource(stream)\n      \n        analyser = audioCtx.createAnalyser()\n        analyser.fftSize = 256\n        bufferLength = analyser.frequencyBinCount\n        dataArray = new Uint8Array(bufferLength)\n      \n        source.connect(analyser)\n\n        /**\n         * The following line would be required if we allow the user to, say,\n         * set the gain on the input. The gain is essentially a filter that\n         * is applied before being sent to the speakers.\n         */\n        // analyser.connect(audioCtx.destination);\n    }\n\n    /**\n     * Draws a frame of animation\n     * \n     * We check the previousTimeStamp because if it is the same as the current\n     * timestamp, we don't want to animate as the frame is of little value in\n     * this context. We only animate the differences.\n     * \n     * @param {float} timestamp \n     */\n    const draw = (timestamp: number, canvas: HTMLCanvasElement) => {\n        if( previousTimeStamp !== timestamp ) {\n            const canvasCtx = canvas.getContext(\"2d\");\n            const WIDTH = canvas.width\n            const HEIGHT = canvas.height\n        \n            // https://developer.mozilla.org/en-US/docs/Web/API/AnalyserNode/getByteTimeDomainData\n            analyser.getByteTimeDomainData(dataArray);\n    \n            let barWidth: number = (WIDTH / bufferLength)\n            let barHeight: number\n            let x = 0\n            \n            canvasCtx.clearRect(0, 0, WIDTH, HEIGHT)\n            \n            for(let i = 0; i < bufferLength; i++) {\n                barHeight = dataArray[i]\n                canvasCtx.fillStyle = `rgb(${barColor[0]}, ${barColor[1]}, ${barColor[2]})`\n                canvasCtx.fillRect(x, HEIGHT, barWidth, 0-barHeight/2)\n    \n                x += barWidth + 1\n            }\n            previousTimeStamp = timestamp\n        }\n    }\n\n      \n    \n    return (\n        <>\n            <canvas ref={canvasRef} className=\"visualizer\"></canvas>\n        </>\n    );\n    \n}\n\nexport default Visualizer","import { useEffect, useState } from 'react'\nimport useIndexedDB from '../../hooks/useIndexedDB'\nimport Recording from '../Recording'\nimport Visualizer from '../Visualizer'\nimport './style.css'\n\ninterface recorderProps {\n    mediaRecorder?: MediaRecorder\n}\n  \nconst Recorder = (props?: recorderProps) => {\n    const { mediaRecorder } = props\n    const {\n        connectionIsOpen,\n        getRecordingFromDB, \n        getAllRecordingsFromDB, \n        addRecording, \n        putRecording,\n        deleteRecordingFromDB\n    } = useIndexedDB()\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    const [recorderState, setRecorderState] = useState('inactive')\n    const [recordings, setRecordings] = useState<any[]>([])\n    const [currentRecording, setCurrentRecording] = useState(0)\n    const defaultRecordClass = 'record-play'\n    let recordButtonClassesText = defaultRecordClass\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    let chunks: any[] = []\n\n    useEffect(() => {\n        if( mediaRecorder ) {\n\n            mediaRecorder.onstart = () => {\n                console.info('started recording')\n            }\n        \n            mediaRecorder.onstop = () => {\n                console.info('stopped recording')\n            }\n        \n            mediaRecorder.ondataavailable = (e) => {\n                chunks.push(e.data)\n            }\n        }\n    }, [mediaRecorder, chunks])\n\n    useEffect(() => {\n        if( connectionIsOpen ) {\n            getAllRecordingsFromDB()\n                .then((savedRecordings) => {\n                    // create a URL for each recording so we can play it\n                    savedRecordings.forEach((recording) => {\n                        if( null !== recording.data ) {\n                            recording.audioURL = window.URL.createObjectURL(recording.data)\n                        }\n                    })\n\n                    setRecordings(savedRecordings)\n                })\n                .catch((error) => {\n                    console.error(error)\n                })\n            }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [connectionIsOpen])\n\n    const updateRecordingsList = () => {\n        const blob = new Blob(chunks, { 'type' : mediaRecorder.mimeType })\n        const audioURL = window.URL.createObjectURL(blob)\n        // console.error('currentRecording', currentRecording)\n    \n        const newRecordingObj = {\n            data: blob,\n            audioURL: audioURL,\n            name: new Date().toISOString().split('.')[0].split('T').join(' '),\n            id: currentRecording,\n            length: 0\n        }\n        \n        // push the new recording to the recordings list\n        setRecordings(recordings => {\n            return [...recordings, ...[newRecordingObj]]\n        })\n        \n        if( connectionIsOpen ) {\n            putRecording(newRecordingObj)\n                .then(() => {\n                    console.info('saved recording')\n                })\n                .catch((error) => {\n                    console.error(error)\n                })\n        }\n        chunks = []\n    }\n\n    const initRecording = async () => {\n        if( connectionIsOpen ) {\n            setCurrentRecording(await addRecording({ name: 'New Recording', length: 0, audioURL: '', data: null }))\n        }\n    }\n\n    const toggleRecording = () => {\n        if (mediaRecorder.state === 'inactive') {\n            mediaRecorder.start(1000)\n            // add a recording record to the database so we can get the ID\n            initRecording()\n        } else {\n            mediaRecorder.stop()\n            updateRecordingsList()\n        }\n        setRecorderState(mediaRecorder.state)\n    }\n\n    const editRecordingName = (e) => {\n        let id = e.target.parentNode.parentNode.attributes.id.value\n        let newRecordings = [...recordings]\n        let targetItem = recordings.filter((item) => {\n            if( item.id === parseInt(id) ) {\n                return item\n            }\n            return false\n        })\n        let index = recordings.indexOf(targetItem[0])\n        let newName = window.prompt('Enter a new name', targetItem[0].name) ?? targetItem[0].name // necessary because this returns null if the user doesn't enter anything\n        newName = newName.replace(/^\\s+|\\s+$/g, \"\")\n        if( newName === '' || newName === null || newName === undefined || newName.length > 500) {\n            newName = targetItem[0].name\n            console.info('The name must not be blank and less than 500 characters.')\n        }\n        targetItem[0].name = newName\n        newRecordings.splice(index, 1, targetItem[0])\n        // commit new name to database\n        if( connectionIsOpen ) {\n            putRecording(targetItem[0])\n                .then(() => {\n                    console.info('saved recording')\n                })\n                .catch((error) => {\n                    console.error(error)\n                })\n        }\n        setRecordings(newRecordings)\n    }\n\n    const deleteRecording = async (e) => {\n        let id = e.target.parentNode.attributes.id.value\n        let deleteRecording = window.confirm('Are you sure you want to delete this recording?')\n        if (deleteRecording === true) {\n            let newRecordings = recordings.filter((item) => {\n                if (parseInt(id) !== item.id) {\n                    return true\n                }\n                return false\n            })\n            e.target.parentNode.classList.add('vanish')\n            await deleteRecordingFromDB(parseInt(id))\n            setTimeout(() => {\n                setRecordings([...newRecordings])\n            }, 900)\n        }\n    }\n\n    const renderAudio = () => {\n        let audios = recordings.map((recording, index) => {\n            return (\n                <Recording \n                    streamURL={recording.audioURL} \n                    key={recording.id} \n                    name={recording.name} \n                    id={recording.id} \n                    onDeleteHandler={deleteRecording} \n                    onEditNameHandler={editRecordingName}\n                    mimeType={mediaRecorder.mimeType} />\n            )\n        })\n        \n        return audios\n\n    }\n\n    const recorderUI = () => {\n        recordButtonClassesText = mediaRecorder.state === 'recording' ? `${defaultRecordClass} recording-audio` : defaultRecordClass\n        return (\n            <>\n                <Visualizer stream={mediaRecorder.stream} barColor={[18,124,85]} />\n                <button onClick={toggleRecording} className={recordButtonClassesText}>{mediaRecorder.state === 'recording' ? 'Stop' : 'Record'}</button>\n                <section className=\"recordings-list\">\n                    {renderAudio()}\n                </section>\n            </>\n        )\n    }\n\n    const recorderRenderer = () => {\n        if( mediaRecorder === null ) {\n            return <button className=\"record-play\" title=\"Please either allow or decline the use of your microphone\">Loading…</button>\n        } else {\n            return recorderUI()\n        }\n      }\n      \n      return (\n        recorderRenderer()\n    )\n}\n\nexport default Recorder\n","import { useState, useEffect } from 'react'\nimport Recorder from './Recorder'\n\nconst RecoderProvider = () => {\n    const [mr, setMr] = useState<MediaRecorder | null>(null)\n\n    useEffect(() => {\n        navigator.mediaDevices.getUserMedia({ video: false, audio: true })\n        .then((theStream) => {\n            try {\n                setMr(new MediaRecorder(theStream, { mimeType: 'audio/webm;codecs=\"opus\"', audioBitsPerSecond: 1441000 }))\n            } catch (error) {\n                console.log('This browser does not support mime type: audio/webm')\n            }\n            \n            try {\n                setMr(new MediaRecorder(theStream, { mimeType: 'audio/mp4', audioBitsPerSecond: 1441000 }))\n            } catch (error) {\n                console.log('This browser does not support mime type: audio/mp4')\n            }\n        })\n        .catch((error) => {\n            console.log('You need to allow access to your microphone to use this app')\n        })\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    return (\n        <Recorder mediaRecorder={mr} />\n    )\n}\n\nexport default RecoderProvider","import { Link } from 'react-router-dom'\nimport './style.css'\n\nconst Footer = () => {\n    return (\n        <footer>\n            <p>© Copyright Secret Source Technology 2022</p>\n            <p><Link to=\"terms-and-conditions\">Terms & Conditions</Link></p>\n            <p><a href=\"https://github.com/tedsecretsource/sound-recorder/blob/main/LICENSE.md\" target=\"_blank\" rel=\"noreferrer\">License</a></p>\n        </footer>\n    )\n}\n\nexport default Footer","import { useState, useEffect } from 'react'\nimport { Link, Outlet, useLocation } from \"react-router-dom\"\nimport RecorderProvider from './components/RecorderProvider'\nimport Footer from './components/Footer'\nimport './App.css';\n\nfunction App() {\n\n  let location = useLocation()\n\n  const [outlet, setOutlet] = useState(<Outlet />)\n\n  useEffect(() => {\n    if( location.pathname === '/' ) {\n      setOutlet(<RecorderProvider />)\n    } else {\n      setOutlet(<Outlet />)\n    }\n  }, [location])\n\n  return (\n    <>\n    <header>\n      <h1><Link to=\"/\">Sound Recorder</Link></h1>\n    </header>\n    <main>\n      {outlet}\n    </main>\n    <Footer />\n    </>\n  );\n}\n\nexport default App;\n","import { useState, useEffect } from 'react';\n\nconst TermsOfUse = () => {\n  const [terms, setTerms] = useState<string>('');\n\n  useEffect(() => {\n    let termsURL = `${process.env.PUBLIC_URL}/terms_of_use.html`;\n    fetch(termsURL)\n      .then(response => {\n        return response.text()\n      })\n      .then(text => {\n        setTerms(text)\n      })\n  }, [terms]);\n\n  return (\n    <div>\n      <h1 id=\"termsofusesoundrecorder\">Terms of Use Sound Recorder</h1>\n<p>Last revised on 11-11-2022</p>\n<h2 id=\"thegist\">The Gist</h2>\n<p>Secret Source Technology produces the Sound Recorder web application, which we hope you use. If you use it, please use it responsibly.</p>\n<p>For paid accounts, you'll be charged on a monthly basis. You can cancel anytime, but there are no refunds.</p>\n<p>The Terms of Sound Recorder, Sound Recorder itself, and our prices can change at any time. We'll warn you 30 days in advance of any price changes. We'll try to warn you about major changes to the Terms of Sound Recorder or Sound Recorder, but we make no guarantees.</p>\n<p>That's the basic idea, but You must read through the entire Terms of Sound Recorder below and agree with all the details before You use this web application.</p>\n<h2 id=\"youragreementwithsecretsourcetechnology\">Your Agreement with Secret Source Technology</h2>\n<p>Your use of the Secret Source Technology Sound Recorder is governed by this agreement (the \"Terms\"). \"Secret Source Technology\" means <a href=\"https://secret-source.eu\">Secret Source Technology SLU</a>. The \"Sound Recorder\" means Sound Recorders Secret Source Technology makes available including our web sites ([https://secret-source.eu]), our blog, our API, and any other software, sites, and services offered by Secret Source Technology in connection to any of those. \"Content\" means all content generated by Secret Source Technology on your behalf (including metric data).</p>\n<p>In order to use Sound Recorder, You (the \"Customer\", \"You\", or \"Your\") must first agree to the Terms. You understand and agree that Secret Source Technology will treat Your use of Sound Recorder as acceptance of the Terms from that point onwards.</p>\n<p>Secret Source Technology may make changes to the Terms from time to time. You may reject the changes by terminating Your account or closing the application if no account is associted with your use of Sound Recorder. You understand and agree that if You use Sound Recorder after the date on which the Terms have changed, Secret Source Technology will treat Your use as acceptance of the updated Terms.</p>\n<p>If you have any question about the Terms, please contact us at info@secret-source.eu.</p>\n<h2 id=\"youraccount\">Your Account</h2>\n<ul>\n<li>You may not use Sound Recorder if You are a person barred from receiving Sound Recorder under the laws of the United States or other countries, including the country in which You are resident or from which You use Sound Recorder.</li>\n<li>You must be a human. Accounts created by automated methods are not permitted.</li>\n</ul>\n<h2 id=\"useofsoundrecorder\">Use of Sound Recorder</h2>\n<ul>\n<li>You must provide accurate and complete registration information any time You register to use Sound Recorder.</li>\n<li>You are responsible for the security of Your passwords and for any use of Your account.</li>\n<li>Your use of Sound Recorder must comply with all applicable laws, regulations and ordinances.</li>\n<li>You agree to not engage in any activity that interferes with or disrupts Sound Recorder.</li>\n<li>Secret Source Technology reserves the right to enforce quotas and usage limits (to any resources, including the API) at its sole discretion, with or without notice, which may result in Secret Source Technology disabling or throttling your usage of Sound Recorder for any amount of time.</li>\n<li>You may not allow multiple people to use the same account or otherwise access Sound Recorder in a manner intended to avoid incurring fees.</li>\n</ul>\n<h2 id=\"soundrecorderpoliciesandprivacy\">Sound Recorder Policies and Privacy</h2>\n<p>Sound Recorder shall be subject to the privacy policy for Sound Recorder (below). You agree to the use of Your data in accordance with Secret Source Technology's privacy policies.</p>\n<h2 id=\"feesforuseofsoundrecorder\">Fees for Use of Sound Recorder</h2>\n<ul>\n<li>Sound Recorder may be provided to You without charge up with certain limits or for a certain \"trial\" period of time.</li>\n<li>Usage over this limit (or after the \"trial\" period) requires Your purchase of additional resources or services.</li>\n<li>For all purchased resources and services, we will charge Your credit card on a monthly basis.</li>\n<li>Payments are non-refundable. There will be no refunds or credits for partial months of service, upgrade/downgrade refunds, or refunds for months unused with an open account.</li>\n<li>Charges are solely based on Secret Source Technology's measurements of Your use of Sound Recorder, unless otherwise agreed to in writing.</li>\n<li>All fees are exclusive of all taxes, levies, or duties imposed by taxing authorities, and You shall be responsible for payment of all such taxes, levies, or duties.</li>\n<li>You acknowledge and agree that any credit card and related billing and payment information that You provide to Secret Source Technology may be shared by Secret Source Technology with companies who work on Secret Source Technology's behalf, such as payment processors and/or credit agencies, solely for the purposes of checking credit, effecting payment to Secret Source Technology and servicing Your account.</li>\n<li>Secret Source Technology may change its fees and payment policies for Sound Recorder by notifying You at least thirty (30) days before the beginning of the billing cycle in which such change will take effect.</li>\n</ul>\n<h2 id=\"cancellationandtermination\">Cancellation and Termination</h2>\n<ul>\n<li>You must cancel Your account via [URL]. An email or phone request to cancel Your account is not considered cancellation.</li>\n<li>You will not receive any refunds if You cancel Your account.</li>\n<li>If You cancel Sound Recorder before the end of Your current paid up month, Your cancellation will take effect immediately and You will not be charged again.</li>\n<li>All of Customer Recordings and Content will, within a reasonable amount of time to be determined solely by Secret Source Technology, be deleted from Sound Recorder upon cancellation.</li>\n<li>You agree that Secret Source Technology, in its sole discretion and for any or no reason, may terminate or suspend Your account. You agree that any termination of Your access to Sound Recorder may be without prior notice, and You agree that Secret Source Technology will not be liable to You or any third party for such termination.</li>\n</ul>\n<h3 id=\"customerrecordings\">Customer Recordings</h3>\n<ul>\n<li>Secret Source Technology claims no ownership or control over any Customer Recordings. You retain copyright and any other rights You already hold in the Customer Recordings and You are responsible for protecting those rights, as appropriate.</li>\n<li>You agree to assume full responsibility for configuring Sound Recorder to allow appropriate access to any Customer Recordings provided to Sound Recorder.</li>\n<li>You understand that public recordings display Customer Recordings to any party on the Internet, including search engines and web spiders.</li>\n<li>You understand that private recordings will display Customer Recordings to You and any collaborators that you designate for that project.</li>\n<li>You retain sole responsibility for any collaborators or third-party services that you allow to view Customer Recordings and entrust them at your own risk.</li>\n<li>Secret Source Technology is not responsible if you fail to configure, or misconfigure, your recordings and inadvertently allow unauthorized parties view any Customer Recordings.</li>\n</ul>\n<h2 id=\"ideasandfeedback\">Ideas and Feedback</h2>\n<p>You may choose to or we may invite You to submit comments or ideas about Sound Recorder, including but not limited to ideas about improving Sound Recorder or our products (\"Ideas\"). By submitting any Idea, You agree that Your disclosure is unsolicited and without restriction and will not place Secret Source Technology under any fiduciary or other obligation, and that we are free to use the Idea without any additional compensation to You, and/or to disclose the Idea on a non-confidential basis or otherwise to anyone.</p>\n<h2 id=\"modificationofsoundrecorder\">Modification of Sound Recorder</h2>\n<ul>\n<li>You acknowledge and agree that Sound Recorder may change from time to time without prior notice to You.</li>\n<li>Changes include, without limitation, changes to fee and payment policies, security patches, added or removed functionality, and other enhancements or restrictions.</li>\n<li>Secret Source Technology shall not be liable to you or to any third party for any modification, price change, suspension or discontinuance of Sound Recorder.</li>\n</ul>\n<h2 id=\"externalresources\">External Resources</h2>\n<p>Sound Recorder may include hyperlinks to other web sites or content or resources or email content. You acknowledge and agree that Secret Source Technology is not responsible for the availability of any such external sites or resources, and does not endorse any advertising, products or other materials on or available from such web sites or resources.</p>\n<h3 id=\"licensefromsecretsourcetechnologyandrestrictions\">License from Secret Source Technology and Restrictions</h3>\n<p>Secret Source Technology gives You a personal, worldwide, royalty-free, non-assignable and non-exclusive license to use the software provided to You by Secret Source Technology as part of Sound Recorder as provided to You by Secret Source Technology. This license is for the sole purpose of enabling You to use and enjoy the benefit of Sound Recorder as provided by Secret Source Technology, in the manner permitted by the Terms.</p>\n<p>You may not (and You may not permit anyone else to): (a) copy, modify, create a derivative work of, reverse engineer, decompile or otherwise attempt to extract the source code of Sound Recorder or any part thereof, unless this is expressly permitted or required by law, or unless You have been specifically told that You may do so by Secret Source Technology, in writing (e.g., through an open source software license); or (b) attempt to disable or circumvent any security mechanisms used by Sound Recorder. To be clear, this product is open source and the source code is available for download. You may not use Sound Recorder in any way that is unlawful, illegal, fraudulent or harmful, or in connection with any unlawful, illegal, fraudulent or harmful purpose or activity.</p>\n<p>Open source software licenses for components of Sound Recorder released under an open source license constitute separate written agreements. To the limited extent that the open source software licenses expressly supersede these Terms, the open source licenses govern Your agreement with Secret Source Technology for the use of the components of Sound Recorder released under an open source license.</p>\n<h2 id=\"exclusionofwarranties\">Exclusion of warranties</h2>\n<ul>\n<li>You expressly understand and agree that your use of Sound Recorder is at your sole risk and that Sound Recorder is provided \"as is\" and \"as available.\".</li>\n<li>You agree that Secret Source Technology has no responsibility or liability for the deletion or failure to store any Content and other communications maintained or transmitted through use of Sound Recorder. You further acknowledge that You are solely responsible for securing and backing up Customer Recordings.</li>\n<li>Secret Source Technology does not warrant to you that: (a) your use of Sound Recorder will meet your requirements, (b) your use of Sound Recorder will be uninterrupted, timely, secure or free from error, (c) the results or data provided by Sound Recorder will be accurate, (d) the quality of Sound Recorder will meet your expectations and (e) any errors in Sound Recorder will be fixed.</li>\n</ul>\n<h2 id=\"limitationofliability\">Limitation of liability</h2>\n<p>You expressly understand and agree that Secret Source Technology, its subsidiaries and affiliates, and its licensors shall not be liable to you for any direct, indirect, incidental, special consequential or exemplary damages which may be incurred by you, however caused and under any theory of liability. This shall include, but not be limited to, any loss of profit (whether incurred directly or indirectly), any loss of goodwill or business reputation, any loss of data suffered, cost of procurement of substitute goods or services, or other intangible loss (whether or not Secret Source Technology has been advised of or should have been aware of the possibility of any such losses arising).</p>\n<h2 id=\"indemnification\">Indemnification</h2>\n<p>You agree to hold harmless and indemnify Secret Source Technology, and its subsidiaries, affiliates, officers, agents, employees, advertisers, licensors, suppliers or partners (collectively \"Secret Source Technology and Partners\") from and against any third party claim arising from or in any way related to (a) Your breach of the Terms, (b) Your use of Sound Recorder, (c) Your violation of applicable laws, rules or regulations in connection with Sound Recorder, or (d) Your Customer Recordings, including any liability or expense arising from all claims, losses, damages (actual and consequential), suits, judgments, litigation costs and attorneys' fees, of every kind and nature. In such a case, Secret Source Technology will provide You with written notice of such claim, suit or action.</p>\n<h2 id=\"generallegalterms\">General Legal Terms</h2>\n<p>The Terms constitute the whole legal agreement between You and Secret Source Technology and govern Your use of Sound Recorder and completely replace any prior agreements between You and Secret Source Technology in relation to Sound Recorder.</p>\n<p>You agree that if Secret Source Technology does not exercise or enforce any legal right or remedy which is contained in the Terms (or which Secret Source Technology has the benefit of under any applicable law), this will not be taken to be a formal waiver of Secret Source Technology's rights and that those rights or remedies will still be available to Secret Source Technology.</p>\n<p>Secret Source Technology shall not be liable for failing or delaying performance of its obligations resulting from any condition beyond its reasonable control, including but not limited to, governmental action, acts of terrorism, earthquake, fire, flood or other acts of God, labor conditions, power failures, and Internet disturbances.</p>\n<h2 id=\"privacypolicy\">Privacy Policy</h2>\n<p>Secret Source Technology will make every effort to protect data you transfer to us according to the Terms of Use above. However, we make zero warranty or guarantee over their safe return in the event of unauthorized access. As of this writing, this application does not track user activity in any way with the exception of potential cookies sent by hosting services. Sound Recorder and Secret Source Technology do not make any use of this data whatsoever. We do not even look at it if it exists!</p>\n    </div>\n  )\n}\n\nexport default TermsOfUse\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { useRouteError } from \"react-router-dom\";\n\nexport default function ErrorPage() {\n  const error = useRouteError();\n  console.error(error);\n\n  return (\n    <div id=\"error-page\">\n      <h1>Oops!</h1>\n      <p>Sorry, an unexpected error has occurred.</p>\n      <p>\n        <i>{error.statusText || error.message}</i>\n      </p>\n    </div>\n  );\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport RecorderProvider from './components/RecorderProvider';\nimport TermsOfUse from './components/TermsOfUse';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\nimport reportWebVitals from './reportWebVitals';\nimport {\n  createHashRouter,\n  RouterProvider\n} from \"react-router-dom\";\nimport ErrorPage from './404';\n\nconst router = createHashRouter([\n  {\n    path: \"/\",\n    element: <App />,\n    errorElement: <ErrorPage />,\n    children: [\n      {\n        path: \"terms-and-conditions\",\n        element: <TermsOfUse />,\n      },\n      {\n        path: \"/sound-recorder/\",\n        element: <RecorderProvider />,\n      },\n    ]\n  },\n]);\n\nReactDOM.render(\n  <React.StrictMode>\n    <RouterProvider router={router} />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.unregister();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}